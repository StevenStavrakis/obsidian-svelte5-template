"use strict";var Zt=Object.defineProperty;var gt=t=>{throw TypeError(t)};var zt=(t,n,e)=>n in t?Zt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var M=(t,n,e)=>zt(t,typeof n!="symbol"?n+"":n,e),Gt=(t,n,e)=>n.has(t)||gt("Cannot "+e);var at=(t,n,e)=>(Gt(t,n,"read from private field"),e?e.call(t):n.get(t)),mt=(t,n,e)=>n.has(t)?gt("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e);const Tt=require("obsidian"),Jt="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jt);const Qt=2,g=Symbol(),Xt=["touchstart","touchmove"];function tn(t){return Xt.includes(t)}const nn=!1;var Nt=Array.isArray,en=Array.from,rn=Object.defineProperty,$=Object.getOwnPropertyDescriptor,ln=Object.prototype,un=Array.prototype,on=Object.getPrototypeOf;const k=2,kt=4,dt=8,ht=16,D=32,lt=64,ct=128,Z=256,tt=512,E=1024,P=2048,z=4096,nt=8192,Y=16384,sn=32768,an=65536,fn=1<<19,cn=1<<20,ft=Symbol("$state");function vn(t){return t===this.v}function _n(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function dn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function wn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let gn=!1;function N(t,n){var e={f:0,v:t,reactions:null,equals:vn,version:0};return e}function Ot(t){return mn(N(t))}function mn(t){return w!==null&&w.f&k&&(b===null?An([t]):b.push(t)),t}function x(t,n){return w!==null&&Ln()&&w.f&(k|ht)&&(b===null||!b.includes(t))&&wn(),En(t,n)}function En(t,n){return t.equals(n)||(t.v=n,t.version=Ut(),St(t,P),d!==null&&d.f&E&&!(d.f&D)&&(p!==null&&p.includes(t)?(O(d,P),st(d)):S===null?In([t]):S.push(t))),n}function St(t,n){var e=t.reactions;if(e!==null)for(var r=e.length,l=0;l<r;l++){var u=e[l],a=u.f;a&P||(O(u,n),a&(E|Z)&&(a&k?St(u,z):st(u)))}}function q(t,n=null,e){if(typeof t!="object"||t===null||ft in t)return t;const r=on(t);if(r!==ln&&r!==un)return t;var l=new Map,u=Nt(t),a=N(0);u&&l.set("length",N(t.length));var v;return new Proxy(t,{defineProperty(f,i,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&dn();var s=l.get(i);return s===void 0?(s=N(o.value),l.set(i,s)):x(s,q(o.value,v)),!0},deleteProperty(f,i){var o=l.get(i);if(o===void 0)i in f&&l.set(i,N(g));else{if(u&&typeof i=="string"){var s=l.get("length"),c=Number(i);Number.isInteger(c)&&c<s.v&&x(s,c)}x(o,g),Et(a)}return!0},get(f,i,o){var h;if(i===ft)return t;var s=l.get(i),c=i in f;if(s===void 0&&(!c||(h=$(f,i))!=null&&h.writable)&&(s=N(q(c?f[i]:g,v)),l.set(i,s)),s!==void 0){var _=F(s);return _===g?void 0:_}return Reflect.get(f,i,o)},getOwnPropertyDescriptor(f,i){var o=Reflect.getOwnPropertyDescriptor(f,i);if(o&&"value"in o){var s=l.get(i);s&&(o.value=F(s))}else if(o===void 0){var c=l.get(i),_=c==null?void 0:c.v;if(c!==void 0&&_!==g)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return o},has(f,i){var _;if(i===ft)return!0;var o=l.get(i),s=o!==void 0&&o.v!==g||Reflect.has(f,i);if(o!==void 0||d!==null&&(!s||(_=$(f,i))!=null&&_.writable)){o===void 0&&(o=N(s?q(f[i],v):g),l.set(i,o));var c=F(o);if(c===g)return!1}return s},set(f,i,o,s){var R;var c=l.get(i),_=i in f;if(u&&i==="length")for(var h=o;h<c.v;h+=1){var y=l.get(h+"");y!==void 0?x(y,g):h in f&&(y=N(g),l.set(h+"",y))}c===void 0?(!_||(R=$(f,i))!=null&&R.writable)&&(c=N(void 0),x(c,q(o,v)),l.set(i,c)):(_=c.v!==g,x(c,q(o,v)));var I=Reflect.getOwnPropertyDescriptor(f,i);if(I!=null&&I.set&&I.set.call(s,o),!_){if(u&&typeof i=="string"){var G=l.get("length"),L=Number(i);Number.isInteger(L)&&L>=G.v&&x(G,L+1)}Et(a)}return!0},ownKeys(f){F(a);var i=Reflect.ownKeys(f).filter(c=>{var _=l.get(c);return _===void 0||_.v!==g});for(var[o,s]of l)s.v!==g&&!(o in f)&&i.push(o);return i},setPrototypeOf(){hn()}})}function Et(t,n=1){x(t,t.v+n)}var yt,Dt,Rt;function yn(){if(yt===void 0){yt=window;var t=Element.prototype,n=Node.prototype;Dt=$(n,"firstChild").get,Rt=$(n,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function xn(t=""){return document.createTextNode(t)}function Ct(t){return Dt.call(t)}function Ft(t){return Rt.call(t)}function bn(t,n){return Ct(t)}function J(t,n=1,e=!1){let r=t;for(;n--;)r=Ft(r);return r}function Pt(t){var n=t.children;if(n!==null){t.children=null;for(var e=0;e<n.length;e+=1){var r=n[e];r.f&k?pt(r):A(r)}}}function Tn(t){for(var n=t.parent;n!==null;){if(!(n.f&k))return n;n=n.parent}return null}function At(t){var n,e=d;U(Tn(t));try{Pt(t),n=Yt(t)}finally{U(e)}return n}function It(t){var n=At(t),e=(C||t.f&Z)&&t.deps!==null?z:E;O(t,e),t.equals(n)||(t.v=n,t.version=Ut())}function pt(t){Pt(t),K(t,0),O(t,Y),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Nn(t,n){var e=n.last;e===null?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}function ut(t,n,e,r=!0){var l=(t&lt)!==0,u=d,a={ctx:T,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|P,first:null,fn:n,last:null,next:null,parent:l?null:u,prev:null,teardown:null,transitions:null,version:0};if(e){var v=j;try{xt(!0),wt(a),a.f|=sn}catch(o){throw A(a),o}finally{xt(v)}}else n!==null&&st(a);var f=e&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&cn)===0;if(!f&&!l&&r&&(u!==null&&Nn(a,u),w!==null&&w.f&k)){var i=w;(i.children??(i.children=[])).push(a)}return a}function kn(t){const n=ut(lt,t,!0);return(e={})=>new Promise(r=>{e.outro?Fn(n,()=>{A(n),r(void 0)}):(A(n),r(void 0))})}function On(t){return ut(kt,t,!1)}function Sn(t){return Dn(t)}function Dn(t,n=0){return ut(dt|ht|n,t,!0)}function Rn(t,n=!0){return ut(dt|D,t,!0,n)}function Lt(t){var n=t.teardown;if(n!==null){const e=w;B(null);try{n.call(null)}finally{B(e)}}}function Mt(t){var n=t.deriveds;if(n!==null){t.deriveds=null;for(var e=0;e<n.length;e+=1)pt(n[e])}}function Vt(t,n=!1){var e=t.first;for(t.first=t.last=null;e!==null;){var r=e.next;A(e,n),e=r}}function Cn(t){for(var n=t.first;n!==null;){var e=n.next;n.f&D||A(n),n=e}}function A(t,n=!0){var e=!1;if((n||t.f&fn)&&t.nodes_start!==null){for(var r=t.nodes_start,l=t.nodes_end;r!==null;){var u=r===l?null:Ft(r);r.remove(),r=u}e=!0}Vt(t,n&&!e),Mt(t),K(t,0),O(t,Y);var a=t.transitions;if(a!==null)for(const f of a)f.stop();Lt(t);var v=t.parent;v!==null&&v.first!==null&&qt(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function qt(t){var n=t.parent,e=t.prev,r=t.next;e!==null&&(e.next=r),r!==null&&(r.prev=e),n!==null&&(n.first===t&&(n.first=r),n.last===t&&(n.last=e))}function Fn(t,n){var e=[];jt(t,e,!0),Pn(e,()=>{A(t),n&&n()})}function Pn(t,n){var e=t.length;if(e>0){var r=()=>--e||n();for(var l of t)l.out(r)}else n()}function jt(t,n,e){if(!(t.f&nt)){if(t.f^=nt,t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&n.push(a);for(var r=t.first;r!==null;){var l=r.next,u=(r.f&an)!==0||(r.f&D)!==0;jt(r,n,u?e:!1),r=l}}}let X=!1,et=!1,rt=null,j=!1;function xt(t){j=t}let vt=[],H=0;let w=null;function B(t){w=t}let d=null;function U(t){d=t}let b=null;function An(t){b=t}let p=null,m=0,S=null;function In(t){S=t}let Bt=1,C=!1,T=null;function Ut(){return++Bt}function Ln(){return!gn}function it(t){var a,v;var n=t.f;if(n&P)return!0;if(n&z){var e=t.deps,r=(n&Z)!==0;if(e!==null){var l;if(n&tt){for(l=0;l<e.length;l++)((a=e[l]).reactions??(a.reactions=[])).push(t);t.f^=tt}for(l=0;l<e.length;l++){var u=e[l];if(it(u)&&It(u),r&&d!==null&&!C&&!((v=u==null?void 0:u.reactions)!=null&&v.includes(t))&&(u.reactions??(u.reactions=[])).push(t),u.version>t.version)return!0}}(!r||d!==null&&!C)&&O(t,E)}return!1}function Mn(t,n){for(var e=n;e!==null;){if(e.f&ct)try{e.fn(t);return}catch{e.f^=ct}e=e.parent}throw X=!1,t}function Vn(t){return(t.f&Y)===0&&(t.parent===null||(t.parent.f&ct)===0)}function ot(t,n,e,r){if(X){if(e===null&&(X=!1),Vn(n))throw t;return}e!==null&&(X=!0);{Mn(t,n);return}}function Yt(t){var c;var n=p,e=m,r=S,l=w,u=C,a=b,v=T,f=t.f;p=null,m=0,S=null,w=f&(D|lt)?null:t,C=!j&&(f&Z)!==0,b=null,T=t.ctx;try{var i=(0,t.fn)(),o=t.deps;if(p!==null){var s;if(K(t,m),o!==null&&m>0)for(o.length=m+p.length,s=0;s<p.length;s++)o[m+s]=p[s];else t.deps=o=p;if(!C)for(s=m;s<o.length;s++)((c=o[s]).reactions??(c.reactions=[])).push(t)}else o!==null&&m<o.length&&(K(t,m),o.length=m);return i}finally{p=n,m=e,S=r,w=l,C=u,b=a,T=v}}function qn(t,n){let e=n.reactions;if(e!==null){var r=e.indexOf(t);if(r!==-1){var l=e.length-1;l===0?e=n.reactions=null:(e[r]=e[l],e.pop())}}e===null&&n.f&k&&(p===null||!p.includes(n))&&(O(n,z),n.f&(Z|tt)||(n.f^=tt),K(n,0))}function K(t,n){var e=t.deps;if(e!==null)for(var r=n;r<e.length;r++)qn(t,e[r])}function wt(t){var n=t.f;if(!(n&Y)){O(t,E);var e=d,r=T;d=t;try{n&ht?Cn(t):Vt(t),Mt(t),Lt(t);var l=Yt(t);t.teardown=typeof l=="function"?l:null,t.version=Bt}catch(u){ot(u,t,e,r||t.ctx)}finally{d=e}}}function jn(){if(H>1e3){H=0;try{_n()}catch(t){if(rt!==null)ot(t,rt,null);else throw t}}H++}function Bn(t){var n=t.length;if(n!==0){jn();var e=j;j=!0;try{for(var r=0;r<n;r++){var l=t[r];l.f&E||(l.f^=E);var u=[];$t(l,u),Un(u)}}finally{j=e}}}function Un(t){var n=t.length;if(n!==0)for(var e=0;e<n;e++){var r=t[e];if(!(r.f&(Y|nt)))try{it(r)&&(wt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?qt(r):r.fn=null))}catch(l){ot(l,r,null,r.ctx)}}}function Yn(){if(et=!1,H>1001)return;const t=vt;vt=[],Bn(t),et||(H=0,rt=null)}function st(t){et||(et=!0,queueMicrotask(Yn)),rt=t;for(var n=t;n.parent!==null;){n=n.parent;var e=n.f;if(e&(lt|D)){if(!(e&E))return;n.f^=E}}vt.push(n)}function $t(t,n){var e=t.first,r=[];t:for(;e!==null;){var l=e.f,u=(l&D)!==0,a=u&&(l&E)!==0,v=e.next;if(!a&&!(l&nt))if(l&dt){if(u)e.f^=E;else try{it(e)&&wt(e)}catch(s){ot(s,e,null,e.ctx)}var f=e.first;if(f!==null){e=f;continue}}else l&kt&&r.push(e);if(v===null){let s=e.parent;for(;s!==null;){if(t===s)break t;var i=s.next;if(i!==null){e=i;continue t}s=s.parent}}e=v}for(var o=0;o<r.length;o++)f=r[o],n.push(f),$t(f,n)}function F(t){var o;var n=t.f,e=(n&k)!==0;if(e&&n&Y){var r=At(t);return pt(t),r}if(w!==null){b!==null&&b.includes(t)&&pn();var l=w.deps;p===null&&l!==null&&l[m]===t?m++:p===null?p=[t]:p.push(t),S!==null&&d!==null&&d.f&E&&!(d.f&D)&&S.includes(t)&&(O(d,P),st(d))}else if(e&&t.deps===null)for(var u=t,a=u.parent,v=u;a!==null;)if(a.f&k){var f=a;v=f,a=f.parent}else{var i=a;(o=i.deriveds)!=null&&o.includes(v)||(i.deriveds??(i.deriveds=[])).push(v);break}return e&&(u=t,it(u)&&It(u)),t.v}const $n=~(P|z|E);function O(t,n){t.f=t.f&$n|n}function Hn(t,n=1){var e=F(t),r=n===1?e++:e--;return x(t,e),r}function Ht(t,n=!1,e){T={p:T,c:null,e:null,m:!1,s:t,x:null,l:null}}function Kt(t){const n=T;if(n!==null){const a=n.e;if(a!==null){var e=d,r=w;n.e=null;try{for(var l=0;l<a.length;l++){var u=a[l];U(u.effect),B(u.reaction),On(u.fn)}}finally{U(e),B(r)}}T=n.p,n.m=!0}return{}}const Wt=new Set,_t=new Set;function Kn(t){for(var n=0;n<t.length;n++)Wt.add(t[n]);for(var e of _t)e(t)}function Q(t){var L;var n=this,e=n.ownerDocument,r=t.type,l=((L=t.composedPath)==null?void 0:L.call(t))||[],u=l[0]||t.target,a=0,v=t.__root;if(v){var f=l.indexOf(v);if(f!==-1&&(n===document||n===window)){t.__root=n;return}var i=l.indexOf(n);if(i===-1)return;f<=i&&(a=f)}if(u=l[a]||t.target,u!==n){rn(t,"currentTarget",{configurable:!0,get(){return u||e}});var o=w,s=d;B(null),U(null);try{for(var c,_=[];u!==null;){var h=u.assignedSlot||u.parentNode||u.host||null;try{var y=u["__"+r];if(y!==void 0&&!u.disabled)if(Nt(y)){var[I,...G]=y;I.apply(u,[t,...G])}else y.call(u,t)}catch(R){c?_.push(R):c=R}if(t.cancelBubble||h===n||h===null)break;u=h}if(c){for(let R of _)queueMicrotask(()=>{throw R});throw c}}finally{t.__root=n,delete t.currentTarget,B(o),U(s)}}}function Wn(t){var n=document.createElement("template");return n.innerHTML=t,n.content}function Zn(t,n){var e=d;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=n)}function zn(t,n){var e=(n&Qt)!==0,r,l=!t.startsWith("<!>");return()=>{r===void 0&&(r=Wn(l?t:"<!>"+t),r=Ct(r));var u=e?document.importNode(r,!0):r.cloneNode(!0);return Zn(u,u),u}}function Gn(t,n){t!==null&&t.before(n)}function bt(t,n){var e=n==null?"":typeof n=="object"?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e==null?"":e+"")}function Jn(t,n){return Qn(t,n)}const V=new Map;function Qn(t,{target:n,anchor:e,props:r={},events:l,context:u,intro:a=!0}){yn();var v=new Set,f=s=>{for(var c=0;c<s.length;c++){var _=s[c];if(!v.has(_)){v.add(_);var h=tn(_);n.addEventListener(_,Q,{passive:h});var y=V.get(_);y===void 0?(document.addEventListener(_,Q,{passive:h}),V.set(_,1)):V.set(_,y+1)}}};f(en(Wt)),_t.add(f);var i=void 0,o=kn(()=>{var s=e??n.appendChild(xn());return Rn(()=>{if(u){Ht({});var c=T;c.c=u}l&&(r.$$events=l),i=t(s,r)||{},u&&Kt()}),()=>{var h;for(var c of v){n.removeEventListener(c,Q);var _=V.get(c);--_===0?(document.removeEventListener(c,Q),V.delete(c)):V.set(c,_)}_t.delete(f),s!==e&&((h=s.parentNode)==null||h.removeChild(s))}});return Xn.set(i,o),i}let Xn=new WeakMap;var W;class te{constructor(){mt(this,W,Ot(0));this.count=0}get count(){return F(at(this,W))}set count(n){x(at(this,W),q(n))}increment(){this.count++}}W=new WeakMap;var ne=(t,n)=>Hn(n),ee=(t,n)=>n.increment(),re=zn("<div><h1>Example Component</h1> <h2>Local State</h2> <button>+</button> <h2>Model State</h2> <button>+</button></div>");function le(t,n){Ht(n,!0);let e=Ot(0),r=new te;var l=re(),u=J(bn(l),3),a=J(u);a.__click=[ne,e];var v=J(a,3),f=J(v);f.__click=[ee,r],Sn(()=>{bt(u,` ${F(e)??""} `),bt(v,` ${r.count??""} `)}),Gn(t,l),Kt()}Kn(["click"]);class ue extends Tt.ItemView{constructor(e,r){super(e);M(this,"identifier");M(this,"component");this.identifier=r}getViewType(){return this.identifier}getDisplayText(){return"Example View"}async onOpen(){this.component=Jn(le,{target:this.contentEl})}async onClose(){}}class ie{constructor(n){M(this,"identifier","example");M(this,"plugin");this.plugin=n}onload(){this.plugin.addRibbonIcon("dice","Sample Plugin",n=>{this.activateLeaf()}),this.plugin.registerView(this.identifier,n=>new ue(n,this.identifier))}async activateLeaf(){const{workspace:n}=this.plugin.app;let e=null;const r=n.getLeavesOfType(this.identifier);if(r.length>0)e=r[0];else{if(e=n.getRightLeaf(!1),e===null)throw new Error("No leaf found");await e.setViewState({type:this.identifier})}n.revealLeaf(e)}onunload(){}}class oe extends Tt.Plugin{constructor(e,r){super(e,r);M(this,"modules");this.modules=[new ie(this)]}async onload(){this.modules.forEach(e=>e.onload())}onunload(){this.modules.forEach(e=>e.onunload())}}module.exports=oe;
